
<!--<html>-->
    <!--<head>-->
        <!--<meta charset="utf-8" />-->
        <!--<meta name="format-detection" content="telephone=no" />-->
        <!--<meta name="msapplication-tap-highlight" content="no" />-->
        <!--&lt;!&ndash; WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 &ndash;&gt;-->
        <!--<meta name="viewport" content=" user-scalable=no, initial-scale=1,-->
                                        <!--maximum-scale=1, minimum-scale=1, width=device-width,-->
                                        <!--height=device-height, target-densitydpi=device-dpi" />-->
        <!--&lt;!&ndash;<link rel="stylesheet" type="text/css" href="css/index.css" />&ndash;&gt;-->
        <!--<title>QR Scanner</title>-->
    <!--</head>-->
    <!--<body>        -->
        <!--&lt;!&ndash;<script type="text/javascript" src="cordova.js"></script>   &ndash;&gt;-->
        <!--<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>-->
        <!--<script type="text/javascript" src="js/app.js"></script>-->
        <!--<script type="text/javascript" src="js/geo.js"></script>-->
        <!--<p>-->
            <!--Click scan button to scan the QR code: <input type="button" value="scan" name = "scan" id="scan"/>-->

        <!--</p>-->
        <!--<p>-->
            <!--Click geo button to get the geo location: <input type="button" onclick="tryGeolocation()" value="geox"/>-->
        <!--</p>-->

    <!--</body>-->
<!--</html>-->



<!DOCTYPE html>
<html lang="ar">
<head>
    <link rel="stylesheet" href="https://unpkg.com/onsenui/css/onsenui.css">
    <link rel="stylesheet" href="https://unpkg.com/onsenui/css/onsen-css-components.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
    <script src="https://unpkg.com/onsenui/js/onsenui.min.js"></script>
    <script type="text/javascript" src="js/index.js"></script>
    <script type="text/javascript" src="js/app.js"></script>


    <style>

        /*@font-face {*/
            /*font-family: 'Tajawal', sans-serif;*/
            /*src:local('css/fonts/Tajawal-Regular.ttf');*/
        /*}*/

        @font-face {
            font-family: "Tajawal";
            src: url('fonts/Tajawal-Regular.ttf');/* relative path from the css file */
        }
        .page {
            font-family: 'Tajawal' !important;
            /*text-align: right !important;*/
            /*direction: rtl !important;*/
        }
        div .rtl{
            font-family: 'Tajawal', sans-serif;
            text-align: right;
            direction: rtl ;
        }
        /*.toolbar--material__center{*/
            /*font-family: 'Tajawal'!important;*/

        /*}*/
        .tabbar__label{
            font-family: 'Tajawal'!important;
        }
        body{
            font-family: 'Tajawal'!important;
            /*text-align: right !important;*/
            /*direction: rtl !important;*/
        }
    </style>
<!--move to APIS file later-->
    <script>

    </script>
</head>


<body>



<ons-page>
    <ons-toolbar>
        <div>

        </div>

        <div class="left">
            <ons-toolbar-button page="settings.html">
                <ons-icon  icon="fa-cogs"></ons-icon>
            </ons-toolbar-button>
        </div>
        <div class="" >
          <p>
              بازيلي
          </p>
        </div>

        <div class="right">
            <ons-toolbar-button>
                <ons-icon icon="fa-bell-o"></ons-icon>
            </ons-toolbar-button>
        </div>


    </ons-toolbar>







    <!--footer-->
    <ons-tabbar swipeable position="bottom" >
        <ons-tab page="tab1.html" label="رئيسية" icon="ion-home, material:md-home" badge="7" active>
        </ons-tab>
        <ons-tab page="tab2.html" label="دفع" icon="fa-arrow-circle-o-up" active-icon="fa-arrow-circle-o-up">
        </ons-tab>
        <ons-tab page="tab3.html" label="قبض" icon="fa-arrow-circle-o-down" active-icon="fa-arrow-circle-o-down">
        </ons-tab>
        <ons-tab page="tab4.html" label="تحويل" icon="fa-exchange" active-icon="fa-exchange">
        </ons-tab>
    </ons-tabbar>
</ons-page>

<template id="tab1.html">
    <ons-page id="Tab1">
        <!--<p style="text-align: center;">-->
            <!--This is the first page.-->
        <!--</p>-->
        <ons-card>
            <img src="https://monaca.io/img/logos/download_image_onsenui_01.png" alt="Onsen UI" style="width: 100%">
            <div class="title rtl" id="userName">
                Awesome framework
            </div>

            <div class="content">
                <div>
                    <ons-button><ons-icon icon="ion-thumbsup"></ons-icon></ons-button>
                    <ons-button><ons-icon icon="ion-share"></ons-icon></ons-button>
                </div>
                <ons-list>
                    <ons-list-header>Bindings</ons-list-header>
                    <ons-list-item>Vue</ons-list-item>
                    <ons-list-item>Angular</ons-list-item>
                    <ons-list-item>React</ons-list-item>
                </ons-list>
            </div>
        </ons-card>
    </ons-page>
</template>

<template id="tab2.html">
    <ons-page id="Tab2">
        <p style="text-align: center;">
            <img src="https://images.vexels.com/media/users/3/158120/isolated/preview/bff830206408c36b53b196b155747b02-qr-code-on-smartphone-by-vexels.png"
                  height="90%" width="90%">
            <br>
            الرجاء إلتقاط الشفرة
            <br>
            <section style="padding: 10%">
                <p></p><br><br>
        Click scan button to scan the QR code:
        <br>
                <ons-button id="scan" modifier="large" onclick="scan()">إلتقاط</ons-button>
            </section>


        </p>
    </ons-page>
</template>

<template id="tab3.html">
<ons-page id="Tab3">


    <section style="padding: 8px">

        <p></p>
        <ons-button modifier="large" onclick="getUserinfo();">get user info</ons-button>
    </section>


</ons-page>
</template>

<template id="tab4.html">
    <ons-page id="Tab4">
       <p>
           test
       </p>
    </ons-page>
</template>

<template id="tab5.html">
    <ons-page id="Tab5">
        <p>
            Notification
        </p>
    </ons-page>
</template>


<template id="settings.html">
    <ons-page id="settings">
        <!--<p style="text-align: center;">-->
        <!--This is the first page.-->
        <!--</p>-->
        <ons-card>

            <div class="content">
                <div class="center">
                    <ons-button><ons-icon icon="ion-thumbsup"></ons-icon></ons-button>
                    <ons-button><ons-icon icon="ion-share"></ons-icon></ons-button>
                </div>
                <ons-list>
                    <ons-list-header>Bindings</ons-list-header>
                    <ons-list-item>Vue</ons-list-item>
                    <ons-list-item>Angular</ons-list-item>
                    <ons-list-item>React</ons-list-item>
                </ons-list>
            </div>
        </ons-card>
    </ons-page>
</template>
<script>

    function scan() {
        alert('hello');
        console.log('request got here!');
        try {
            cordova.plugins.barcodeScanner.scan(
                function (result) {
                    alert("We got a barcode\n" +
                        "Result: " + result.text + "\n" +
                        "Format: " + result.format + "\n" +
                        "Cancelled: " + result.cancelled);
                },
                function (error) {
                    alert("Scanning failed: " + error);
                });
        }catch (e) {
            alert(e)
        }

    }

    function getUserinfo(){
        alert('test');
        $.ajax({
            type: "POST",
            url: "https://api.bazi.ly/v1/getInfo",
            data: JSON.stringify({ "api_token":"lzmLHHC5euZS15pXLI6iLt4aRVFRpMQK3B9M2uuggcvMrzhNUP" }),
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function(response) {

                //entered in the success block means our service call is succeeded properly

                var resp = JSON.stringify(response); // we are accessing the text from the json object(response) and then converting it in to the string format
                console.log(JSON.stringify(response)); // print the response in console
                alert(JSON.stringify(response)); // alert the response

                var fullName = response.info.firstname + ' ' + response.info.lastname;
                console.log(JSON.stringify(fullName));
                // document.querySelector('#userName').value = "عربي&rlm "
                document.querySelector('#userName').innerHTML = fullName;
            },
            error: function(request, status, error) {
                console.log("Error status " + status);
                console.log("Error request status text: " + request.statusText);
                console.log("Error request status: " + request.status);
                console.log("Error request response text: " + request.responseText);
                console.log("Error response header: " + request.getAllResponseHeaders());
            }
        });
    }


</script>

</body>
</html>